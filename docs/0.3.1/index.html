<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


    


    <h3>samson 0.3.1</h3>









    




    <section>
        <article><h1>Samson</h1>

<h3>The elevator pitch:</h3>

<p>A very useful build step; read any number of files, process them as JavaScript templates, and save output to another destination.</p>

<h3>The more descriptive version:</h3>

<p>Process an input directory to an output directory recursively:</p>

<pre><code>samson -i path/to/directory -o path/to/other/directory -R</code></pre>

<p>Samson&#39;s functionality can be summarized in 3 steps:</p>

<ol><li>Read any number of files that are of any size</li><li>Process the content of files read as doT.js templates<ul><li>Each template&#39;s delimiters are defined as comment blocks specific to the processed file&#39;s language</li><li>Although files are processed in chunks, the internal validation queues data until it may be processed correctly</li><li>If a file&#39;s mimeType is not a processable type, then the data is simply piped through without processing</li></ul></li><li>Write the processed or piped data to a new location on the file system</li></ol>

<p>Include samson in your own module:</p>

<pre><code>var samson = require(&#39;samson&#39;);
samson.run([&#39;source/dir/**/*&#39;], {
    copyUnknown : true,
    outputDir   : &#39;build/dir&#39;,
    recursive   : true
});</code></pre>

<h3>doT</h3>

<p>Sounds pretty simple right?</p>

<p>The unique part of Samson is in step #2. doT.js is both the fastest, and most open-ended JavaScript template engine I&#39;ve found to date, and is the engine I believe to be best suited for the task I&#39;m trying to achieve with Samson. If you are familiar with doT, skip to the next section, otherwise now would be a good time to visit http://olado.github.com/doT/</p>

<h2>Install</h2>

<p>With npm this module prefers global installation:</p>

<pre><code>npm i samson -g</code></pre>

<h2>Usage</h2>

<h3>Settings</h3>

<p>One thing doT allows, is defining custom delimiters before compiling a string into a template, and with that I have defined different settings for the most common comment block delimiters.</p>

<p>A quick look at these settings:
- html
    - tag start <code>&lt;!--{</code>
    - tag end <code>}--&gt;</code>
- js, css, php
    - tag start <code>/*{</code>
    - tag end <code>}*/</code>
- txt (the most common and default format)
    - tag start <code>#{</code>
    - tag end <code>}#</code></p>

<p>A more detailed view of these settings can be found here http://drkibitz.github.com/node-samson/docs/latest/Template.settingsByType.html</p>

<h3>Example</h3>

<p>Take a look at the following example in <code>my-file.js</code>, that is not processed with Samson:</p>

<pre><code>/* start */
/*{?argv.target !== &#39;release&#39;}*/
var DEBUG = true;
/*{?}*/
/* end */</code></pre>

<p>Process with Samson as <code>samson my-file.js</code> outputs:</p>

<pre><code>/* start */

var DEBUG = true;

/* end */</code></pre>

<p>Process with Samson as <code>samson my-file.js --target release</code> outputs:</p>

<pre><code>/* start */


/* end */</code></pre>

<h3>Template Namespaces and Variables</h3>

<p>Notice the <code>argv</code> member accessible in the doT template. This object contains all of the script arguments parsed by the module optimist, and passed directly into the doT template.</p>

<p>Just as within doT, the <code>def</code> object is special. Once a member property is set, it may not be changed. There is one <code>def</code> object defined for each file, and one file&#39;s template may not access another file&#39;s <code>def</code>.</p>

<p>Additionally but not limited to, enumerables set within <code>def</code> are passed directly to the template&#39;s runtime function as arguments. What this means is <code>/*{#def.FILE}*/</code>, may also be accessed as <code>/*{=FILE}*/</code></p>

<p>For a more detailed view of the defailt members of <code>def</code>, please visit http://drkibitz.github.com/node-samson/docs/latest/ResourceProcessor.def.html</p>

<h3>More Usage Examples</h3>

<p>Be sure to to look at:</p>

<pre><code>samson
samson -h
samson --help</code></pre>

<p>Process a single file and output to console:</p>

<pre><code>samson path/to/file</code></pre>

<p>Process a single file and output to file system:</p>

<pre><code>samson path/to/file -o path/to/directory</code></pre>

<p>Process multiple files and output to file system:</p>

<pre><code>samson path/to/file1 path/to/file2 path/to/file3 -o path/to/directory</code></pre>

<p>Process single directory recursively and output to file system:</p>

<pre><code>samson path/to/directory -o path/to/directory -R</code></pre>

<p>Process files and directories recursively and output to file system:</p>

<pre><code>samson path/to/dir1 path/to/file path/to/dir2 -o path/to/directory -R</code></pre>

<p>Process matched files recursively and output to file system:</p>

<pre><code>samson -i path/to/* -o path/to/other/directory -R</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="84bbb99fa1.html">node-samson/lib/main</a></li><li><a href="6232c0b643.html">node-samson/lib/Queue</a></li><li><a href="c9c28f7963.html">node-samson/lib/ResourceProcessor</a></li><li><a href="8324787775.html">node-samson/lib/ResourceReader</a></li><li><a href="7fedf6ae7c.html">node-samson/lib/ResourceWriter</a></li><li><a href="e22ee54234.html">node-samson/lib/Samson</a></li><li><a href="67010ab649.html">node-samson/lib/Template</a></li><li><a href="c2c3bd6593.html">node-samson/lib/TemplateSettings</a></li></ul><h3>Classes</h3><ul><li><a href="Queue.html">Queue</a></li><li><a href="ResourceProcessor.html">ResourceProcessor</a></li><li><a href="ResourceReader.html">ResourceReader</a></li><li><a href="ResourceWriter.html">ResourceWriter</a></li><li><a href="Samson.html">Samson</a></li><li><a href="Template.html">Template</a></li><li><a href="TemplateSettings.html">TemplateSettings</a></li></ul><h3>Events</h3><ul><li><a href="ResourceReader.event.html#event:END">END</a></li><li><a href="ResourceReader.event.html#event:GLOB_END">GLOB_END</a></li><li><a href="ResourceReader.event.html#event:GLOB_ERROR">GLOB_ERROR</a></li><li><a href="ResourceReader.event.html#event:MIME_MAGIC_END">MIME_MAGIC_END</a></li><li><a href="ResourceReader.event.html#event:MIME_MAGIC_ERROR">MIME_MAGIC_ERROR</a></li><li><a href="ResourceReader.event.html#event:READ_STREAM_CLOSE">READ_STREAM_CLOSE</a></li><li><a href="ResourceReader.event.html#event:READ_STREAM_DATA">READ_STREAM_DATA</a></li><li><a href="ResourceReader.event.html#event:READ_STREAM_END">READ_STREAM_END</a></li><li><a href="ResourceReader.event.html#event:READ_STREAM_ERROR">READ_STREAM_ERROR</a></li><li><a href="ResourceReader.event.html#event:READ_STREAM_START">READ_STREAM_START</a></li><li><a href="ResourceWriter.event.html#event:END">END</a></li><li><a href="ResourceWriter.event.html#event:MKDIRP_END">MKDIRP_END</a></li><li><a href="ResourceWriter.event.html#event:MKDIRP_ERROR">MKDIRP_ERROR</a></li><li><a href="ResourceWriter.event.html#event:WRITE_STREAM_CLOSE">WRITE_STREAM_CLOSE</a></li><li><a href="ResourceWriter.event.html#event:WRITE_STREAM_DRAIN">WRITE_STREAM_DRAIN</a></li><li><a href="ResourceWriter.event.html#event:WRITE_STREAM_ERROR">WRITE_STREAM_ERROR</a></li><li><a href="ResourceWriter.event.html#event:WRITE_STREAM_START">WRITE_STREAM_START</a></li><li><a href="Samson.event.html#event:END">END</a></li><li><a href="Samson.event.html#event:ERROR">ERROR</a></li><li><a href="Samson.event.html#event:READ">READ</a></li><li><a href="Samson.event.html#event:READ_END">READ_END</a></li><li><a href="Samson.event.html#event:READ_START">READ_START</a></li><li><a href="Samson.event.html#event:RESET">RESET</a></li><li><a href="Samson.event.html#event:WRITE">WRITE</a></li><li><a href="Samson.event.html#event:WRITE_END">WRITE_END</a></li><li><a href="Samson.event.html#event:WRITE_START">WRITE_START</a></li></ul><h3>Namespaces</h3><ul><li><a href="ResourceProcessor.def.html">def</a></li><li><a href="ResourceReader.event.html">event</a></li><li><a href="ResourceWriter.event.html">event</a></li><li><a href="Samson.errorCode.html">errorCode</a></li><li><a href="Samson.event.html">event</a></li><li><a href="Template.settingsByType.html">settingsByType</a></li><li><a href="TemplateSettings.validationCode.html">validationCode</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Wed Feb 13 2013 14:38:52 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
