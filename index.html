<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="http://shjs.sourceforge.net/sh_main.min.js"> </script>
    <script src="http://shjs.sourceforge.net/lang/sh_javascript.min.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/node-dark.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


	
	







<section>
    
<header>
    <h2>
    
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
        
        
<dl class="details">
<a name="samson" class="anchor" href="#samson"><span class="mini-icon mini-icon-link"></span></a>Samson</h1>

<h3>
<a name="the-elevator-pitch" class="anchor" href="#the-elevator-pitch"><span class="mini-icon mini-icon-link"></span></a>The elevator pitch:</h3>

<p>A very useful build step; read any number of files, process them as JavaScript templates, and save output to another destination.</p>

<h3>
<a name="the-more-descriptive-version" class="anchor" href="#the-more-descriptive-version"><span class="mini-icon mini-icon-link"></span></a>The more descriptive version:</h3>

<p>Process an input directory to an output directory recursively:</p>

<pre><code>samson -i path/to/directory -o path/to/other/directory -R
</code></pre>

<p>Samson's functionality can be summarized in 3 steps:</p>

<ol>
<li>Read any number of files that are of any size</li>
<li>Process the content of files read as doT.js templates

<ul>
<li>Each template's delimiters are defined as comment blocks specific to the processed file's language</li>
<li>Although files are processed in chunks, the internal validation queues data until it may be processed correctly</li>
<li>If a file's mimeType is not a processable type, then the data is simply piped through without processing</li>
</ul>
</li>
<li>Write the processed or piped data to a new location on the file system</li>
</ol><h3>
<a name="dot" class="anchor" href="#dot"><span class="mini-icon mini-icon-link"></span></a>doT</h3>

<p>Sounds pretty simple right?</p>

<p>The unique part of Samson is in step #2. doT.js is both the fastest, and most open-ended JavaScript template engine I've found to date, and is the engine I believe to be best suited for the task I'm trying to achieve with Samson. If you are familiar with doT, skip to the next section, otherwise now would be a good time to visit <a href="http://olado.github.com/doT/">http://olado.github.com/doT/</a></p>

<h2>
<a name="install" class="anchor" href="#install"><span class="mini-icon mini-icon-link"></span></a>Install</h2>

<p>With npm this module prefers global installation:</p>

<pre><code>npm i samson -g
</code></pre>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="mini-icon mini-icon-link"></span></a>Usage</h2>

<h3>
<a name="settings" class="anchor" href="#settings"><span class="mini-icon mini-icon-link"></span></a>Settings</h3>

<p>One thing doT allows, is defining custom delimiters before compiling a string into a template, and with that I have defined different settings for the most common comment block delimiters.</p>

<p>A quick look at these settings:</p>

<ul>
<li>html

<ul>
<li>tag start <code>&lt;!--{</code>
</li>
<li>tag end <code>}--&gt;</code>
</li>
</ul>
</li>
<li>js, css, php

<ul>
<li>tag start <code>/*{</code>
</li>
<li>tag end <code>}*/</code>
</li>
</ul>
</li>
<li>txt (the most common and default format)

<ul>
<li>tag start <code>#{</code>
</li>
<li>tag end <code>}#</code>
</li>
</ul>
</li>
</ul><p>A more detailed view of these settings can be found here <a href="http://drkibitz.github.com/node-samson/Template.settingsByType.html">http://drkibitz.github.com/node-samson/Template.settingsByType.html</a></p>

<h3>
<a name="example" class="anchor" href="#example"><span class="mini-icon mini-icon-link"></span></a>Example</h3>

<p>Take a look at the following example in <code>my-file.js</code>, that is not processed with Samson:</p>

<pre><code>/* start */
/*{?argv.target !== 'release'}*/
var DEBUG = true;
/*{?}*/
/* end */
</code></pre>

<p>Process with Samson as <code>samson my-file.js</code> outputs:</p>

<pre><code>/* start */

var DEBUG = true;

/* end */
</code></pre>

<p>Process with Samson as <code>samson my-file.js --target release</code> outputs:</p>

<pre><code>/* start */


/* end */
</code></pre>

<h3>
<a name="template-namespaces-and-variables" class="anchor" href="#template-namespaces-and-variables"><span class="mini-icon mini-icon-link"></span></a>Template Namespaces and Variables</h3>

<p>Notice the <code>argv</code> member accessible in the doT template. This object contains all of the script arguments parsed by the module optimist, and passed directly into the doT template.</p>

<p>Just as within doT, the <code>def</code> object is special. Once a member property is set, it may not be changed. There is one <code>def</code> object defined for each file, and one file's template may not access another file's <code>def</code>.</p>

<p>Additionally but not limited to, enumerables set within <code>def</code> are passed directly to the template's runtime function as arguments. What this means is <code>/*{#def.FILE}*/</code>, may also be accessed as <code>/*{=FILE}*/</code></p>

<p>For a more detailed view of the defailt members of <code>def</code>, please visit <a href="http://drkibitz.github.com/node-samson/ResourceProcessor.def.html">http://drkibitz.github.com/node-samson/ResourceProcessor.def.html</a></p>

<h3>
<a name="more-usage-examples" class="anchor" href="#more-usage-examples"><span class="mini-icon mini-icon-link"></span></a>More Usage Examples</h3>

<p>Be sure to to look at:</p>

<pre><code>samson
samson -h
samson --help
</code></pre>

<p>Process a single file and output to console:</p>

<pre><code>samson path/to/file
</code></pre>

<p>Process a single file and output to file system:</p>

<pre><code>samson path/to/file -o path/to/directory
</code></pre>

<p>Process multiple files and output to file system:</p>

<pre><code>samson path/to/file1 path/to/file2 path/to/file3 -o path/to/directory
</code></pre>

<p>Process single directory recursively and output to file system:</p>

<pre><code>samson path/to/directory -o path/to/directory -R
</code></pre>

<p>Process files and directories recursively and output to file system:</p>

<pre><code>samson path/to/dir1 path/to/file path/to/dir2 -o path/to/directory -R
</code></pre>

<p>Process matched files recursively and output to file system:</p>

<pre><code>samson -i path/to/* -o path/to/other/directory -R
</code></pre>
</dl>

        
        
    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-bin.html">bin</a></li><li><a href="4e5b0a8bc6.html">node-samson/lib/Queue</a></li><li><a href="85b178dc02.html">node-samson/lib/ResourceProcessor</a></li><li><a href="72cf34ef0a.html">node-samson/lib/ResourceReader</a></li><li><a href="507bf53ef9.html">node-samson/lib/ResourceWriter</a></li><li><a href="ce42311f30.html">node-samson/lib/Samson</a></li><li><a href="4d17576eed.html">node-samson/lib/Template</a></li><li><a href="decd787ba8.html">node-samson/lib/TemplateSettings</a></li><li><a href="306840213c.html">node-samson/lib/main</a></li></ul><h3>Classes</h3><ul><li><a href="Queue.html">Queue</a></li><li><a href="ResourceProcessor.html">ResourceProcessor</a></li><li><a href="ResourceReader.html">ResourceReader</a></li><li><a href="ResourceWriter.html">ResourceWriter</a></li><li><a href="Samson.html">Samson</a></li><li><a href="Template.html">Template</a></li><li><a href="TemplateSettings.html">TemplateSettings</a></li></ul><h3>Namespaces</h3><ul><li><a href="ResourceProcessor.def.html">def</a></li><li><a href="Samson.errorCode.html">errorCode</a></li><li><a href="ResourceReader.event.html">event</a></li><li><a href="ResourceWriter.event.html">event</a></li><li><a href="Samson.event.html">event</a></li><li><a href="Template.settingsByType.html">settingsByType</a></li><li><a href="TemplateSettings.validationCode.html">validationCode</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/micmath/jsdoc">JSDoc 3</a> on Thu Jun 21 2012 10:06:16 GMT-0700 (PDT)
</footer>

<script> sh_highlightDocument(); </script>
</body>
</html>
